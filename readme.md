# Yacut — Сервис укорачивания ссылок

Yacut — эт асинхронный о веб-сервис на Flask, который позволяет укорачивать длинные ссылки, связывая их с короткими идентификаторами. Пользователи могут предлагать свои собственные варианты короткой ссылки, иначе короткая ссылка будет сгенерированна сервисом.

## Особенности проекта

- **Генерация коротких ссылок**: Превращает длинные URL в компактные ссылки вида `http://yacut.domain/short_id`.
- **Кастомные идентификаторы**: Пользователь может сам придумать короткое имя для ссылки (до 16 символов).
- **API интерфейс**: REST API для создания и получения ссылок программным путем.
- **Валидация**: Проверка корректности URL и уникальности коротких идентификаторов.

## Стек технологий

- **Python 3.11**
- **Flask**
- **SQLAlchemy**
- **Flask-Migrate**
- **Jinja2** 

## Установка и запуск

### 1. Клонирование репозитория

Скачайте код проекта к себе на компьютер:

```bash
git clone https://github.com/jurassicon/async-yacut
cd yacut
```

### 2. Cоздание и активация виртуального окружения

```bash
python3 -m venv venv
```

* **Linux/macOS**:
    ```bash
    source venv/bin/activate
    ```

* **Windows**:
    ```bash
    source venv/scripts/activate
    ```

### 3. Установка зависимостей

Обновите pip и установите необходимые пакеты из файла `requirements.txt`:

```bash
python3 -m pip install --upgrade pip
pip install -r requirements.txt
```

### 4. Настройка переменных окружения

Создайте в корне проекта файл `.env` и добавьте в него следующие переменные:

```env
FLASK_APP=yacut
FLASK_ENV=development
SECRET_KEY=YOUR_SECRET_KEY_HERE
DB_URI=sqlite:///db.sqlite3
```

> Примечание: Замените `YOUR_SECRET_KEY_HERE` на случайную строку для безопасности сессий.

### 5. Подготовка базы данных

Примените миграции для создания таблиц в базе данных:

```bash
flask db upgrade
```

### 6. Запуск проекта

Запустите сервер разработки:

```bash
flask run
```

Проект будет доступен по адресу [http://127.0.0.1:5000](http://127.0.0.1:5000).

## Работа с API

Проект предоставляет API для взаимодействия с сервисом.

### Получение оригинальной ссылки

Получить оригинальный URL по его короткому идентификатору.

* **URL**: `/api/id/<short_id>/`
* **Метод**: `GET`
* **Пример ответа**:
    ```json
    {
      "url": "https://www.example.com/very-long-url..."
    }
    ```

### Создание новой короткой ссылки

Создать новую связь между длинной ссылкой и коротким идентификатором.

* **URL**: `/api/id/`
* **Метод**: `POST`
* **Тело запроса (JSON)**:
    ```json
    {
      "url": "https://www.google.com",
      "custom_id": "google"
    }
    ```
    *Поле `custom_id` необязательное. Если его не передать, сервис сгенерирует идентификатор автоматически.*

* **Пример ответа (201 Created)**:
    ```json
    {
      "url": "https://www.google.com",
      "short_link": "http://localhost:5000/google"
    }
    ```

## Автор
Черкасов Юрий
e-mail: cherkasooov@gmail.com

Проект разработан на Python с использованием микрофреймворка Flask.
